install.packages("formattable") 
library(formattable)
tab <- read.table("Documents/CUG_reprocessed/Supplementary Table 1.txt", header=T, sep='\t', stringsAsFactors=F, check.names=F) 
widget_formattable = formattable(tab) 
widget_formattable

align_column=c("l","c","c","c","c","l","l","l","l","l","l")
widget_formattable = formattable(tab, align=align_column, list(
  `Total reads` = color_tile('white','lightblue'),
  Trimmed = color_tile('white','lightblue'),
  Mapped= color_tile('white','lightblue'),
  Deduplicated = color_tile('white', 'lightblue'),
  area(col=c(mRNA, ncRNA, rRNA, tRNA, snoRNA, snRNA)) ~ normalize_bar("pink")
))
widget_formattable

html_header="
<head> 
<meta charset=\"utf-8\"> 
<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"> 
<link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\">
</head>
<body>
"

html_table = format_table(tab, align=align_column, list(
    `Total reads` = color_tile('white','lightblue'),
    Trimmed = color_tile('white','lightblue'),
    Mapped= color_tile('white','lightblue'),
    Deduplicated = color_tile('white', 'lightblue'),
    area(col=c(mRNA, ncRNA, rRNA, tRNA, snoRNA, snRNA)) ~ normalize_bar("pink")
  ))

write(paste(html_header, html_table, sep=""), "Documents/CUG_reprocessed/Supplementary_table_1.html")
